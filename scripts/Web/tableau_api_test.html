<!DOCTYPE html>
<html>

<head>
    <title>Test Map</title>
    <link href="stylesheet.css" rel="stylesheet" type="text/css">
    <script type="text/javascript"
	    src="https://public.tableau.com/javascripts/api/tableau-2.min.js"></script>
    <script>
    function initViz() {
        var containerDiv = document.getElementById("vizContainer"),
            url = "http://public.tableau.com/views/JSA_V1_Reranked/V1_reranked_simple",
            options = {
                hideTabs: false,
                onFirstInteractive: function () {
                    console.log("Run this code when the viz has finished loading.");
                    viz.getWorkbook().changeParameterValueAsync("Population", Math.random()).then(function (){ console.log('Parameter set');})
                    //viz.refreshDataAsync();
                }
            };
        var viz = new tableau.Viz(containerDiv, url, options);
        // viz.addEventListener(tableauSoftware.TableauEventName.FILTER_CHANGE, change_val);
    }
    </script>

</head>

<body onload="initViz();">
    <!-- Map Container -->
    <div id="vizContainer" style="width:800px; height:500px; float:left;"></div>
</body>

</html>
